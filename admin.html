<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title 
      title="PAINEL DE ADMINISTRA√á√ÉO. Acesso restrito. Esta p√°gina controla os 'feature flags' da aplica√ß√£o principal. Altere com 'responsabilidade estrat√©gica'."
    >Admin Panel - Meeting Awards</title>
</head>
<body>

    <header>
        <h1 
          title="Painel de Administra√ß√£o (H1). Esta √© a 'view' de 'alta-privil√©gio'. Apenas 'stakeholders' com a 'chave de acesso' (query string) podem 'interagir' com este 'm√≥dulo'. Grande poder traz grande responsabilidade."
        >Painel de Admin üîê</h1>
        <p 
          title="Subt√≠tulo (P). Define o 'prop√≥sito' desta 'view' interna, refor√ßando a 'seguran√ßa' e o 'alinhamento' com a 'miss√£o' de 'gerenciamento'."
        >Acesso restrito para "Gerenciamento de Sinergia"</p>
    </header>

    <main id="admin-panel" style="display: none;">

        <section class="card"
          title="Card de Status (Leitura). Este 'componente' √© 'read-only' e serve como um 'dashboard' para 'monitoramento' em 'real-time' dos 'flags' de 'feature' (feature flags) que controlam o 'core' da aplica√ß√£o."
        >
            <h2>Status Atual</h2>
            <p 
              title="Indicador de Estado (Status Flag): 'isVotingOpen'. 'Verde' significa 'aberto' (true), 'Vermelho' significa 'fechado' (false). O 'toggle' deste 'booleano' √© o principal 'driver' da 'experi√™ncia do usu√°rio' (UX) na 'landing page'."
            >Vota√ß√£o: <strong id="status-votacao">...</strong></p>
            <p 
              title="Indicador de Estrat√©gia (Strategy Pattern Flag): 'rankingAlgorithm'. Define qual 'algoritmo' de 'c√°lculo' ser√° 'injetado' (dependency injection) no 'm√≥dulo' de 'ranking' quando a vota√ß√£o for 'fechada'. Uma 'feature' 'robusta' e 'escal√°vel'."
            >Algoritmo de Ranking: <strong id="status-algoritmo">...</strong></p>
        </section>
    
        <section class="card"
          title="M√≥dulo de A√ß√µes de Vota√ß√£o. Este 'componente' permite o 'toggle' do 'estado' principal da aplica√ß√£o. As cores 'sem√¢nticas' (verde/vermelho) guiam o 'admin' para uma 'tomada de decis√£o' mais 'assertiva'."
        >
            <h3>Controlar Vota√ß√£o</h3>
            
            <button id="btn-open-voting" class="btn-success"
              title="A√ß√£o de Admin (Bot√£o Verde - 'Success'). Clicar aqui 'dispara' um 'evento' para o 'backend' (Firebase) que 'seta' o 'flag' 'isVotingOpen' para 'true'. Isso permite que os 'usu√°rios finais' (end-users) possam 'submeter' seus 'quantificadores de valor' (votos). Use com cautela."
            >ABRIR Vota√ß√£o</button>
            
            <button id="btn-close-voting" class="btn-danger"
              title="A√ß√£o de Admin (Bot√£o Vermelho - 'Danger'). ATEN√á√ÉO: Esta √© uma 'a√ß√£o de alto impacto'. Clicar aqui 'seta' o 'flag' 'isVotingOpen' para 'false'. Isso ir√° 'triggar' a 'revela√ß√£o' do 'ranking' para TODOS os usu√°rios 'concorrentemente'. N√£o h√° 'confirma√ß√£o' (mentira, tem um 'confirm()' do JS) e n√£o h√° volta. Pressione apenas quando o 'quarter' fechar e os 'OKRs' de 'vota√ß√£o' estiverem 'completos'. Esta √© a 'Grande Revela√ß√£o' (The Big Reveal)."
            >FECHAR Vota√ß√£o (Revelar Ranking)</button>
        </section>

        <section class="card"
          title="M√≥dulo de Configura√ß√£o de Estrat√©gia. Aqui, o 'gestor' pode 'pivotar' a 'l√≥gica de neg√≥cio' do 'c√°lculo' de 'ranking' em 'tempo real', demonstrando 'agilidade' e 'flexibilidade' de 'arquitetura'."
        >
            <h3>Controlar Algoritmo de Ranking</h3>
            <select id="select-algorithm" class="vote-select"
              title="Seletor de Estrat√©gia (Dropdown). Permite ao 'Admin' (voc√™) 'selecionar' em 'real-time' qual 'implementa√ß√£o' do 'IRankingStrategy' (a 'interface') ser√° 'instanciada' pela 'Factory' no momento da 'revela√ß√£o' do 'ranking'. 'Clean Code' puro."
            >
                <option value="simple">M√©dia Simples</option>
                <option value="olympic">M√©dia Ol√≠mpica</option>
            </select>
            
            <button id="btn-set-algorithm"
              title="A√ß√£o de Admin (Bot√£o Azul - 'Primary'). 'Persiste' a sua 'sele√ß√£o' do 'dropdown' adjacente no 'banco de dados', 'atualizando' o 'estado' do 'settings' para o 'pr√≥ximo' ciclo de 'c√°lculo' de 'ranking'. A 'mudan√ßa' pode ser 'feita' a 'qualquer momento' para 'garantir' o 'alinhamento' com as 'diretrizes' do 'Board'."
            >Definir Algoritmo</button>
        </section>

    </main>

    <h1 id="access-denied" style="color: red; text-align: center; margin-top: 50px; display: none;"
      title="Tela de Bloqueio (Access Denied). Esta 'view' √© 'renderizada' se os 'par√¢metros' de 'autentica√ß√£o' (a 'query string' 'pass') n√£o 'corresponderem' ao 'token' 'hardcoded' no 'admin.ts'. Uma 'barreira de seguran√ßa' 'robusta'."
    >
        ACESSO NEGADO
    </h1>

    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

    <script type="module" src="/src/admin.ts"></script>
</body>
</html>